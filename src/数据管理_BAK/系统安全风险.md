# **系统安全风险**

- 识别风险的第一步是识别敏感数据的存储位置，以及该数据需要哪些保护措施，还需要识别系统中固有的风险，系统安全风险包括可能危害网络或数据库的因素，这些威胁允许合法员工有意或无意地滥用信息，并使恶意黑客得以成功

## 对过度特权的滥用（Abuse of Excessive Privilege）

- 在授予对数据的访问权限时，应采用最小权限原则，DBA可能没有时间或元数据来为每个用户定义和更新粒度访问权限控制机制（granular access privilege control mechanisms），导致许多用户获得了远超出特定工作要求的通用默认访问权限
- 过度特权的解决方案是查询级访问控制（query-level access control），一种将数据库权限限制为最低要求的SQL操作和数据的机制，数据访问控制的粒度必须超出表范围，扩展到表中特定的行和列，查询级访问控制可用于检测恶意员工对过度特权的滥用
- 大多数数据库软件都集成了一定程度的查询级访问控制（触发器、行级安全性、表安全性、视图），但其手动特性并不便于为大量用户定义和修改查询策略，因此在大型组织中，通常需使用自动化工具来实现真正的查询级访问控制功能

## 对合法特权的滥用（Abuse of Legitimate Privilege）

- 用户可能会出于未经授权的目的滥用合法的数据库特权，包括故意和无意的滥用
- 滥用合法特权的部分解决方案是数据库访问控制，其不仅适用于特定查询，而且通过一天中的时间、位置监控和下载的信息量对终端机器执行策略，如用户可能需要访问其客户的个人记录，但不允许为了节省时间将整个客户数据库下载到笔记本电脑上

## 未经授权的特权升级（Unauthorized Privilege Elevation）

- 攻击者可能利用数据库平台软件的漏洞将访问权限从普通用户转换为管理员，漏洞可能出现在存储过程、内置函数、协议实现和SQL语句中
- 防止特权升级攻击可以结合使用传统入侵防御系统（IPS，Intrusion Prevention Systems）和查询级访问控制，这些系统检查数据库流量以识别与已知漏洞相对应的模式，如若给定功能容易受到攻击，则IPS可能阻止对该过程的所有访问，或阻止那些允许嵌入式攻击的过程，将IPS与其他攻击指示工具（attack indicators）如查询访问控制相结合以提高识别攻击的准确性，IPS可以检测数据库请求是否访问易受攻击的函数，而查询访问控制则检测请求是否符合正常的用户行为，如果单个请求同时判定为访问易受攻击的功能和异常行为，则几乎可以肯定会发生攻击

## 服务账号和共享账号滥用（Service Account or Shared Account Abuse）

- 使用服务账号（批次ID）和共享账号（通用ID）会增加数据安全漏洞的风险并使最终漏洞来源的能力更加复杂，一些组织将监控系统配置为忽略与这些账号相关的任何警报，进一步增加了风险

- 服务账号（Service Accounts）
  - 服务账号可以为使用它们的过程定制增强访问，但如果将它们用于其他目的，则无法追踪到特定用户或管理员，除非他们有权访问解密密钥，否则服务账号不会威胁加密数据
  - 将服务账号的使用限制在特定系统上的特定任务或命令，并且需要文档和批准才能分发凭据，考虑在每次分发时分配一个新密码
- 共享账号（Shared Accounts）
  - 共享账号用于当应用程序无法处理所需的用户账号数量或添加特定用户需要大量工作或产生额外的许可成本时，共享账号的凭证会提供给多个用户并且很少更改密码，因为共享账号基本上提供不受监管的访问，所以应仔细评估共享账号的任何使用，默认情况下永远不应使用它们

## 平台入侵攻击（Platform Intrusion Attacks）

- 数据资产的软件更新和入侵防御保护需要定期软件更新（补丁）和专用入侵防御系统（IPS，Intrusion Prevention Systems）的实施相结合，IPS通常与入侵检测系统（IDS，Intrusion Detection System）一起实施，目标是防止绝大多数网络入侵企图，并对任何成功通过防御系统的入侵做出快速响应，最原始的入侵保护是防火墙，但随着移动用户、Web访问和移动计算设备成为大多数企业环境的一部分，简单的防火墙任然必要但已不再足够
- 随着时间的推移，供应商提供的更新减少了数据库平台中的漏洞，但软件更新通常由企业根据定期维护周期实施，而不是在补丁可用后尽快实施，在更新前数据库不受保护，兼容性问题有时也会阻止软件更新，要解决这些问题需实施IPS

## SQL注入漏洞（SQL Injection Vulnerability）

- 在SQL注入攻击中，攻击者将未经授权的数据库语句插入到易受攻击的SQL数据通道中，如存储过程或Web输入区，注入的SQL语句被传递到数据库，其通常在数据库中作为合法命令执行，使用SQL注入，攻击者可以不受限制地访问整个数据库
- 通过将SQL命令作为函数或存储过程的参数传递，SQL注入也用于攻击DBMS，如提供备份功能的组件通常以高权限运行，在该特定组件中调用SQL注入易受攻击的函数可能允许普通用户提升他们的权限，成为DBA并接管数据库
- 通过在将所有输入传回服务器之前对其进行清理来降低SQL注入风险

## 默认密码（Default Passwords）

- 清除默认密码是每次实施后的重要安全步骤

## 备份数据滥用（Backup Data Abuse）

- 加密所有数据库备份，加密可防止有形介质或电子传输中的备份丢失，安全地管理备份解密密钥，密钥必须异地可用才能用于灾难恢复