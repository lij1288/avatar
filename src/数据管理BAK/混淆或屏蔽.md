# **混淆或屏蔽**

- 可以通过混淆（使模糊或不清楚）或屏蔽（删除、打乱或以其他方式改变数据的外观）来降低数据的可用性，而不会丢失数据的含义或数据与其他数据集的关系，属性中的值可能会更改，但新值对这些属性仍然有效，在屏幕上显示敏感信息或从生产数据创建测试数据集时，混淆非常有用，数据屏蔽是一种以数据为中心的安全措施，包括持久的（persistent）和动态的（dynamic）两种类型，持久屏蔽又分为不落地和落地两种

## 持久数据屏蔽（Persistent Data Masking）

- 持久数据屏蔽会永久且不可逆转地更改数据，通常不用于生产环境，而是用于生产环境与开发或测试环境之间，持久屏蔽会更改数据，但数据必须仍然可用于测试流程、应用程序、报告等
- 不落地持久屏蔽（In-flight persistent masking）
  - 常用于生产环境到非生产环境，不落地持久屏蔽非常安全，因为其不会留下带有未屏蔽数据的中间文件或数据库，而且如果在屏蔽过程中遇到问题可以重新运行
- 落地持久屏蔽（In-place persistent masking）
  - 未屏蔽数据经过读取、屏蔽后覆盖原来的数据，用于敏感数据位于不应该存在的位置并且需要降低风险或将数据移动到非安全位置前在安全位置对额外的数据副本进行屏蔽
  - 过程存在风险，如果屏蔽过程中途失败，可能无法将数据恢复为可用格式，此方式用途较少

## 动态数据屏蔽（Dynamic Data Masking）

- 在不改变底层数据（underlying data）的情况下改变数据对最终用户或系统的表现，用于用户需要访问一些敏感数据但不是全部时，如`123456789`显示为`***-**-6789`

## 混淆或屏蔽（Obfuscation or Masking）的方法

- 替换（Substitution）
  - 将字符或整个值进行替换，如将名替换为列表中的随机值
- 打乱（Shuffling）
  - 在同一记录中交换相同类型的数据元素，或在行之间交换同一属性的数据元素，如在供应商发票中混用供应商名称，以便将原始供应商替换为不同的有效供应商
- 时间变动（Temporal variance）
  - 按天增/减日期，小到足以保持趋势，又大到足以使其无法识别
- 值变动（Value variance）
  - 按百分比增/减数值，小到足以保持趋势，又大到足以使其无法识别
- 置空或删除（Nulling or deleting）
  - 移除不应出现在测试系统中的数据
- 随机化（Randomization）
  - 用随机字符或一系列单个字符替换部分或全部数据元素
- 加密（Encryption）
  - 通过密码将可识别的有意义字符流转换为不可识别的字符流，是落地混淆的极端版本
- 表达屏蔽（Expression masking）
  - 将所有值更改未表达的结果，如将可能包含机密数据的大型字段改为“This is a comment field”
- 键屏蔽（Key masking）
  - 指定屏蔽算法/过程的结果必须是唯一且可重复的，因为其用于平步数据库键字段，这种类型的屏蔽对于测试以保持组织的完整性非常重要