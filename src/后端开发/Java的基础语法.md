## **Java的基础语法**

### 1. 关键字

| 类别                 | 关键字       | 说明                         |
| -------------------- | ------------ | ---------------------------- |
| 访问控制             | default      | 默认的                       |
|                      | private      | 私有的                       |
|                      | protected    | 受保护的                     |
|                      | public       | 公共的                       |
| 类, 方法和变量修饰符 | abstract     | 声明抽象                     |
|                      | class        | 类                           |
|                      | enum         | 枚举                         |
|                      | extends      | 继承，扩充                   |
|                      | final        | 最终值，不可改变的           |
|                      | implements   | 实现                         |
|                      | interface    | 接口                         |
|                      | native       | 本地，原生方法（非JAVA实现） |
|                      | new          | 新，创建                     |
|                      | static       | 静态                         |
|                      | strictfp     | 严格，精准                   |
|                      | synchronized | 同步                         |
|                      | transient    | 短暂                         |
|                      | volatile     | 易失                         |
| 程序控制语句         | break        | 跳出循环                     |
|                      | case         | 定义一个值以供switch选择     |
|                      | continue     | 继续                         |
|                      | do           | 运行                         |
|                      | else         | 否则                         |
|                      | for          | 循环                         |
|                      | if           | 如果                         |
|                      | instanceof   | 实例                         |
|                      | return       | 返回                         |
|                      | switch       | 根据值选择执行               |
|                      | while        | 循环                         |
| 错误处理             | assert       | 断言表达式是否为真           |
|                      | catch        | 捕获异常                     |
|                      | finally      | 有没有异常都执行             |
|                      | throw        | 抛出一个异常对象             |
|                      | throws       | 声明一个异常可能被抛出       |
|                      | try          | 捕获异常                     |
| 包相关               | import       | 引入                         |
|                      | package      | 包                           |
| 基本类型             | boolean      | 布尔型                       |
|                      | byte         | 字节型                       |
|                      | char         | 字符型                       |
|                      | double       | 双精度浮点                   |
|                      | float        | 单精度浮点                   |
|                      | int          | 整型                         |
|                      | long         | 长整型                       |
|                      | short        | 短型                         |
| 变量引用             | super        | 父类，超类                   |
|                      | this         | 本类                         |
|                      | void         | 无返回值                     |
| 保留关键字           | const        |                              |
|                      | goto         |                              |

***

### 2. 标识符

- 给类、接口、方法、变量等起名字时使用的字符序列 
- 包括英文大小写字母、数字、_ 和 $
- $ 是合法字符，但只用在Java编译器或其他工具生成的名字中

***

### 3. 常量

####  3.1 常量分类

- 字面值常量：  

| 字面值常量 |         组成         |
| :--------: | :------------------: |
| 字符串常量 | 用双引号括起来的内容 |
|  整数常量  |       所有整数       |
|  小数常量  |       所有小数       |
|  字符常量  | 用单引号括起来的内容 |
|  布尔常量  |      true/false      |
|   空常量   |         null         |

- 自定义常量：用final修饰的变量

#### 3.2 进制

- 3.2.1 数据组成  

|   进制   |       组成        | 开头 |
| :------: | :---------------: | :--: |
|  二进制  |        0,1        |  0b  |
|  八进制  |     0,1,...7      |  0   |
|  十进制  |     0,1,...9      |      |
| 十六进制 | 0,1,...9,a,b,...f |  0x  |

- 3.2.2 进制之间的互相转换

1. 其他进制转成10进制 
   1234 = 1000+200+30+4  = 1\*10^3 + 2\*10^2 +3\*10^1 + 4\*10^0 
   每一位上的数乘以对应进制数的位数减1次方做累加 
   0b1100 100 = 1\*2^6 + 1\*2^5 + 0\*2^4 + 0\*2^3 + 1\*2^2 + 0\*2^1 
   01321 = 1\*8^3 + 3\*8^2 + 2\*8^1 + 1\*8^0

2. 10进制转其他进制 
   转成几进制就除以几，直到商为0，最后把余数反转  

3. 快速转换法  

   1. 8421码（10进制和2进制之间的相互转换）

      | 128                      | 64   | 32   | 16   | 8    | 4    | 2    | 1    |
      | ------------------------ | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
      | 0b11 0110 = 32+16+6 = 54 |      |      |      |      |      |      |      |

   2. 2进制和8进制之间的快速转换  

      - 一位的8进制和3位的2进制的取值范围是一样的（000-111，0-7) ）
      - 2转8：2进制三位一组，转成8进制 
        0b 1 001 010 101 = 01125  
      - 8转2：每一位8进制转成3位2进制 
        0654 = 0b 110 101 100  

   3. 2进制和16进制之间的快速转换  

      - 一位的16进制和4位的2进制的取值范围是一样  
      - 2转16：2进制四位一组，转成16进制 
        0b 1101 0101 0111 = 0xd57  
      - 16转2：每一位16进制转成4位2进制 
        0xabc = 0b1010 1011 1100  

#### 3.3 有符号数据表示法

- 原码：最高位代表符号，其他位代表数值，正数的符号位是0，负数的符号位是1 
  反码：正数的反码和原码相同，负数的反码，符号位不变，其他位取反 
  补码：正数的补码和原码相同，负数的补码，在反码的基础上，末位加1
- 补码的出现主要是解决负数的计算问题，计算机中存储的都是二进制的补码

***

### 4. 变量

- 注意事项：

  1. 定义在方法中的变量叫做局部变量，局部变量不赋初值不能使用

  2. 实例变量永远都会有默认值，不管程序有没有显示的初始化，Java虚拟机都会先自动初始化为默认值

  3. 变量所在的大括号叫做变量的作用域，同一个作用域中不能定义多个名字相同的变量，但可以重新赋值

  4. 同一行可以定义多个变量（可读性差）    

     ```java
     int a,b = 10;// int a; int b = 10;
     int a = 5, b = 10; // int a = 5; int b = 10;
     ```

  5. 变量的声明尽可能的靠近变量第一次使用的地方

***

### 5. 数据类型

#### 5.1 数据类型

- 基本数据类型
  - 整数类型：byte，short，**int**，long
  - 小数类型：float，**double**
  - 字符类型：char
  - 布尔类型：boolean
- 引用数据类型
  - 除基本数据类型外的所有类型（类，接口，数组）

#### 5.2 基本数据类型的范围

|  类型   | 字节 | 位数 | 默认值 |             范围              |
| :-----: | :--: | :--: | :----: | :---------------------------: |
|  byte   |  1   |  8   |   0    |   -2^7 ~ 2^7-1(-128 ~ 127)    |
|  short  |  2   |  16  |   0    | -2^15~ 2^15-1(-32768 ~ 32767) |
|   int   |  4   |  32  |   0    |        -2^31 ~ 2^31-1         |
|  long   |  8   |  64  |   0    |        -2^63 ~ 2^63-1         |
|  float  |  4   |  32  |  0.0   |     -3.403E38 ~ 3.403E38      |
| double  |  8   |  64  |  0.0   |    -1.798E308 ~ 1.798E308     |
|  char   |  2   |  16  |   空   |   0 ~ 65535(\u0000 ~\uffff)   |
| boolean |  1   |  8   | false  |          true或false          |

#### 5.3 类型转换

1. 默认转换
   - byte, short, char — int — long — float — double  
2. 强制转换
   - 基本数据类型中，除了布尔类型，其他7中数据类型之间都可以使用强制转换  
   - 引用类型中：只能从父类转到子类（向下转型）

#### 5.4 注意事项

1. 定义float类型的小数，需要在后面加一个F(f)

2. 定义byte、short类型的整数时，如果等号右边的数值在左边类型的范围之内，则可以直接赋值

3. 定义long类型的变量时，如果等号右边的值在int的范围之内，则可以直接赋值，如果超出了int的范围需要在末尾加L(l)

4. 实例变量才有默认值，局部变量没有默认值，静态的方法中只能调用外部静态的变量

5. byte、short、char之间不转换，参与运算时会首先转换为int类型

6. 定义byte、short类型的变量时，如果等号右边都是常量，看其结果是否在左边类型的范围之内，在就可以直接赋值

7. 可以把一个long类型的值赋值给float类型的变量

8. char类型的变量直接使用时，用的是所代表的符号，参与运算时，用的是在码表中的编号

9. 字符串和任意类型做加法运算，得到的都是字符串，做拼接

10. 布尔类型不能和其他基本数据类型做运算

11. 浮点数值不适用于无法接受舍入误差的金融计算（使用BigDecimal）中，二进制系统中无法精确地表示分数1/10

    ```java
    System.out.println(2.0-1.1); //0.8999999999999999
    ```

***

### 6. 运算符

####  6.1 算术运算符

- +、 -、*、/、%
- ++、--单独使用前后无区别，参与运算前后有区别，常见运算：赋值，打印，小括号

#### 6.2 赋值运算符

- =

- +=、-=、*=、/=、%=包含一个默认的强制类型转换

  ```java
  int a = 10;
  a += 2.5;
  System.out.println(a);//12
  ```

#### 6.3 关系运算符

- ==、!=、>=、<=、>、<

#### 6.4 逻辑运算符

- &（与）、|（或）、^（异或）、!（非）
- 短路运算符&&、||

#### 6.5 位运算符

- 左移<<：空位补0，高位丢弃

  右移>>：空位补最高位

  无符号右移>>>：空位补0

- 正数左移几位乘以2的几次方，右移几位除以2的几次方

#### 6.6 三目运算符

- (关系表达式)? 表达式1: 表达式2

***

### 7. 流程控制结构

- 流程控制结构包括：顺序结构、选择结构、循环结构

#### 7.1 选择结构

- 7.1.1 if

- if的三种形式

  ```java
  //第一种形式
  if(表达式) {
      语句体；
  }
  //第二种形式
  if(表达式) {
      语句体1;
  } else {
      语句体2;
  }
  //第三种形式
  if(表达式1) {
      语句体1;
  } else if(表达式2) {
      语句体2;
  }
  ...
  else {
      语句体n;
  }
  ```

- if后面的大括号可以省略，控制到第一个分号结束

- else子句与最邻近的if构成一组 

- 带标签的if

  ```java
  label:
  {
      ...
  	if(condition) {
          break label;
      }
      ...
  }//jump here when the break statement executes
  ```

- 7.1.2 switch

- switch的格式

  ```java
  switch(表达式) {
      case 表达式1:
          语句体1;
          break;
      case 表达式2:
          语句体2;
          break;
      ...
      default:
          语句体n;
          break;
  }
  ```

- 注意事项

  1. case后只能跟常量，不能跟变量
  2. case的常量值不能相同
  3. case的顺序没有影响，default可以不放在最后
  4. break可以省略，代码会继续向下执行，不管下面的case是否匹配成功，直到遇到break或switch语句结束
  5. 使用枚举常量时，不需要在每个标签中指明枚举名
  6. switch语句结束的标志：遇到break，代码执行结束

#### 7.2 循环结构

- 7.2.1 for循环

- for循环格式

  ```java
  for(初始化语句;判断条件语句;控制条件语句) {
      循环体语句;
  }
  //循环体如果是一条语句，大括号可以省略
  ```


- for each（增强for循环）

  ```java
  for(数据类型 变量名：遍历的目标) {
      循环体语句;
  }
  //循环体如果是一条语句，大括号可以省略
  //遍历的目标必须是一个数组或一个实现了Iterable接口的类对象
  ```


- 7.2.2 while循环

- while循环格式

  ```java
  初始化语句;
  while(判断条件语句) {
      循环体语句;
      控制条件语句;
  }
  ```


- 7.2.3 do while循环

- do while循环格式

  ```java
  初始化语句;
  do{
      循环体语句;
      控制条件语句;
  }(判断条件语句)
  ```


- 7.2.4 注意事项

1. for循环适合针对一个范围判断进行操作，while循环适合判断次数不明确操作

#### 7.3 中断控制流程语句

- 7.3.1 break

- 用于循环语句跳出单层循环，只能用在switch语句和循环语句中，离开使用场景没有意义，单独存在下面不可以有语句

- 带标签的break：跳出多重嵌套的循环语句，标签必须放在希望跳出的最外层循环之前，并且必须紧跟一个冒号

  ```java
  outer:
  for(int i = 0; i < 3; i++) {
  	for(int j = 0; i < 5; j++) {
  		if(j == 3) {
  			break outer;
  		}
  		System.out.println(i + " " + j);
  	}
  }
  /*0 0
  0 1
  0 2*/
  ```

- 7.3.2 continue

- 跳出本次循环，继续下一次循环，将控制转移到最内层循环的首部，只能用在循环语句中，单独存在下面不可以有语句

- 带标签的continue: 跳到到与标签匹配的循环首部

  ```java
  outer:
  for(int i = 0; i < 3; i++) {
  	for(int j = 0; j < 5; j++) {
  		if(j == 3) {
  		continue outer;
  		}
  		System.out.println(i + " " + j);
  	}
  }
  
  /*0 0
  0 1
  0 2
  1 0
  1 1
  1 2
  2 0
  2 1
  2 2*/
  ```

- 7.3.3 return

- 结束一个方法，返回给上层调用者，main方法是被jvm自动调用的

***

### 8. 数组

#### 8.1 数组概念及特点

- 8.1.1 概念

- 用来存储一组相同数据类型的集合（容器）

- 8.1.2 特点

- 数组中的元素类型必须一致
- 数组本身是引用数据类型，但是里面的元素既可以是基本数据类型，也可以是引用数据类型
- 数组的长度一旦给定无法改变

#### 8.2 数组初始化

- 8.2.1 静态初始化

```java
数据类型[] 数组名 = new 数据类型[]{元素1,元素2,...}

数据类型[] 数组名 = {元素1,元素2,...}
//简写形式只能用在定义数组时
int[] arr = {1,2,3};
arr = {4,5,6};//错误
arr = new int[]{4,5,6};//正确
```

- 8.2.2 动态初始化

```java
数据类型[] 数组名 = new 数据类型[数组长度];
```

#### 8.3 数组基本使用

```java
int[] arr = {1,2,3,4,5};
//取值，赋值
int a = arr[0];
arr[1] = 6;
//获取数组长度
int length = arr.length;
//循环遍历
for(int i : arr) {
    System.out.println(i);
}

for(int i =0; i < arr.length; i++) {
    System.out.println(arr[i]);
}
```

#### 8.4 二维数组

- 二维数组的初始化

  ```java
  数据类型[][] 数组名
  数据类型[] 数组名[]//类型为数据类型[]
  
  数据类型[][]数组名 = new 数据类型[m][n];
  数据类型[][]数组名 = new 数据类型[m][];
  数据类型[][]数组名 = new 数据类型[][]{{元素1...},{元素1...},{元素1...}...};
  ```

#### 8.5 数组常见异常

```java
int[] arr = null;
System.out.println(arr[0]);//空指针异常：java.lang.NullPointerException

arr = new int[3];
System.out.println(arr[3]);//数组角标越界异常：java.lang.ArrayIndexOutOfBoundsException
```

#### 8.6 命令行参数

- String[] args用于接收键盘录入参数，表明main方法将接收一个字符串数组，也就是命令行参数

- 用法: javac命令不变，java命令后面跟参数，多个参数用空格隔开

  ```java
  public static void main(String[] args) {
  	for(String str : args) {
  		System.out.println(str);
  	}
  }
  //javac ...
  //java ... A B C
  ```
